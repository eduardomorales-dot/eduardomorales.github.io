<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Sprite rebotando en Canvas</title>
  <style>
    body{height:100vh;margin:0;display:flex;align-items:center;justify-content:center;background:#111}
    canvas{background:#222;border:3px solid #fff;display:block}
  </style>
</head>
<body>
  <canvas id="c" width="600" height="400"></canvas>

<script>
const canvas = document.getElementById('c');
const ctx = canvas.getContext('2d');
const W = canvas.width, H = canvas.height;

// Sprite (8x8)
const spriteMap = [
  [0,0,1,1,1,1,0,0],
  [0,1,2,2,2,2,1,0],
  [1,2,3,2,2,3,2,1],
  [1,2,2,2,2,2,2,1],
  [1,2,4,2,2,4,2,1],
  [1,2,2,4,4,2,2,1],
  [0,1,2,2,2,2,1,0],
  [0,0,1,1,1,1,0,0]
];
const palette = {1:'#FFD166',2:'#EF476F',3:'#FF9F1C',4:'#073B4C'};

function drawSprite(x,y,scale){
  for(let r=0;r<spriteMap.length;r++){
    for(let c=0;c<spriteMap[r].length;c++){
      const v = spriteMap[r][c];
      if(v===0) continue;
      ctx.fillStyle = palette[v];
      ctx.fillRect(x + c*scale, y + r*scale, scale, scale);
    }
  }
}

let scale = 30;
let x = 50, y = 50;
let vx = 120, vy = 100; // velocidades
let last = performance.now();

function step(dt){
  x += vx * dt;
  y += vy * dt;
  const spriteW = spriteMap[0].length * scale;
  const spriteH = spriteMap.length * scale;

  if(x + spriteW >= W){ x = W - spriteW; vx *= -1; }
  if(x <= 0){ x = 0; vx *= -1; }
  if(y + spriteH >= H){ y = H - spriteH; vy *= -1; }
  if(y <= 0){ y = 0; vy *= -1; }
}

function render(){
  ctx.clearRect(0,0,W,H);
  drawSprite(x,y,scale);

  // Texto centrado en el sprite
  ctx.fillStyle = "#EAF6FF";
  ctx.font = "20px Arial";
  ctx.textAlign = "center";
  ctx.fillText("Â¡what u lookin at bruh!", x + (spriteMap[0].length*scale)/2, y - 10);
}

function loop(now){
  const dt = Math.min(0.05,(now - last)/1000);
  last = now;
  step(dt);
  render();
  requestAnimationFrame(loop);
}
requestAnimationFrame(loop);
</script>
</body>
</html>
